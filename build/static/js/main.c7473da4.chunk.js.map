{"version":3,"sources":["components/RenderSingle.js","components/RenderAll.js","components/Form.js","components/Search.js","services/persons.js","components/Error.js","App.js","index.js"],"names":["RenderSingle","person","deletePerson","className","name","number","value","id","onClick","RenderAll","persons","showFilter","personsToShow","filter","toLowerCase","indexOf","console","log","map","Form","addPerson","newName","handleNameChange","newNumber","handleNumberChange","onSubmit","onChange","type","Search","handleSearchChange","baseUrl","axios","get","then","response","data","newObject","post","put","delete","Notification","message","App","useState","setPersons","setNewName","setNewNumber","setShowFilter","errorMessage","setErrorMessage","useEffect","personService","initialPersons","Footer","style","color","fontStyle","fontSize","event","target","preventDefault","nameObject","find","p","window","confirm","personId","returnedPerson","catch","error","setTimeout","n","concat","deleteP","Object","values","ReactDOM","render","notes","content","date","important","document","getElementById"],"mappings":"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","file":"static/js/main.c7473da4.chunk.js","sourcesContent":["import React from 'react'\n\nconst RenderSingle = ({person, deletePerson }) => {\n\n  return (\n    <div className='person' key={person.id}>\n      {person.name} : {person.number} \n      <button value={person.id} name={person.name} onClick={deletePerson}>delete</button>\n    </div>\n    \n    \n  )\n}\n\nexport default RenderSingle","import React from 'react'\nimport RenderSingle from './RenderSingle.js'\n\n\nconst RenderAll = ({ persons, showFilter, deletePerson }) => {\n\n    const personsToShow = showFilter\n    ? persons.filter(person => person.name.toLowerCase().indexOf(showFilter.toLowerCase()) !== -1)\n    : persons\n\n    console.log(showFilter);\n\n  return (\n    <div>\n        {personsToShow.map(person => <RenderSingle key={person.name} person={person} deletePerson={deletePerson}/>)}\n    </div>\n  )\n}\n\nexport default RenderAll","import React from 'react'\n\nconst Form = ({addPerson, newName, handleNameChange, newNumber, handleNumberChange}) => {\n  return (\n    <form onSubmit={addPerson}>\n        <div>\n          <div>name: <input value={newName} onChange={handleNameChange}/></div>\n          <div>number: <input value={newNumber} onChange={handleNumberChange} /></div>\n        </div>\n        <div>\n          <button type=\"submit\">add</button>\n        </div>\n      </form>\n  )\n}\n\nexport default Form","import React from 'react'\n\nconst Search = ({showFilter, handleSearchChange}) => {\n  return(\n    <div>\n      <div> input shown with: <input value={showFilter} onChange={handleSearchChange}></input> </div>\n    </div>\n  )\n}\n\nexport default Search","import axios from 'axios'\nconst baseUrl = '/api/notes'\n\nconst getAll = () => {\n  const request = axios.get(baseUrl)\n  return request.then(response => response.data)\n}\n\nconst create = newObject => {\n  const request = axios.post(baseUrl, newObject)\n  return request.then(response => response.data)\n}\n\nconst update = (id, newObject) => {\n  const request = axios.put(`${baseUrl}/${id}`, newObject)\n  return request.then(response => response.data)\n}\n\nconst del = id => {\n  const request = axios.delete(`${baseUrl}/${id}`)\n  return request.then(response => response.data)\n}\n\nexport default { getAll, create, update, del}","import React from 'react'\n\nconst Notification = ({ message }) => {\n  if (message === null) {\n    return null\n  }\n\n  return (\n    <div className=\"error\">\n      {message}\n    </div>\n  )\n}\n\nexport default Notification","import React, { useState, useEffect } from 'react'\nimport RenderAll from './components/RenderAll.js'\nimport Form from './components/Form.js'\nimport Search from './components/Search.js'\nimport personService from './services/persons'\nimport Notification from './components/Error.js'\n\n\nconst App = () => {\n  const [ persons, setPersons ] = useState([]) \n  const [ newName, setNewName ] = useState('')\n  const [ newNumber, setNewNumber ] = useState('')\n  const [ showFilter, setShowFilter ] = useState('')\n  const [errorMessage, setErrorMessage] = useState('')\n\n  useEffect(() => {\n    personService\n      .getAll()\n      .then(initialPersons => {\n        setPersons(initialPersons)\n      })\n  }, [])\n\n\n  const handleNameChange = (event) => {\n    console.log(event.target.value)\n    setNewName(event.target.value)\n  }\n  const handleNumberChange = (event) => {\n    console.log(event.target.value)\n    setNewNumber(event.target.value)\n  }\n  const handleSearchChange = (event) => {\n      console.log(event.target.value)\n      setShowFilter(event.target.value)\n  }\n  const addPerson = (event) => {\n    event.preventDefault()\n    console.log('person added', event.target)\n    const nameObject = {\n      name: newName,\n      number: newNumber\n    }\n    if (persons.find(p => p.name === newName)){\n      if (window.confirm(`${newName} is already added to phonebook, do you want to update the existing contact?`)){\n        const personId = persons.find(p => p.name === newName)\n        personService\n          .update(personId.id, nameObject)\n          .then(returnedPerson => {\n            setPersons(persons.map(p => p.id !== personId ? p : returnedPerson))\n            setNewName('')\n            setNewNumber('')\n            })\n          .catch(error => {\n            setErrorMessage(\n              `the person '${personId.name}' was already deleted from server`\n              )\n              setTimeout(() => {\n              setErrorMessage(null)\n              }, 5000)\n            setPersons(persons.filter(n => n.id !== personId.id))\n            setNewName('')\n            setNewNumber('')\n          })\n      } else {\n        setNewName('')\n        setNewNumber('')\n      }\n    } else {\n      personService\n        .create(nameObject)\n        .then(returnedPerson => {\n          setPersons(persons.concat(returnedPerson))\n          setNewName('')\n          setNewNumber('')\n          setErrorMessage(\n            `Added ${newName}`\n            )\n            setTimeout(() => {\n            setErrorMessage(null)\n            }, 5000)\n      })\n    }\n    personService\n      .getAll()\n      .then(initialPersons => {\n        setPersons(initialPersons)\n      })\n  }\n\n\n  const deletePerson = (event) => {\n    const deleteP = persons.find(p => p.id === event.target.value)\n    if (window.confirm(`Do you want to delete ${event.target.name} ?`)) {\n      personService\n      .del(event.target.value)\n      .then(persons => {\n        setPersons(Object.values(persons).filter(p => p.id !== event.target.value))\n        console.log(deleteP)\n      })\n      .catch(error => {\n        setErrorMessage(\n          `the person '${event.target.name}' was already deleted from server`\n          )\n          setTimeout(() => {\n          setErrorMessage(null)\n          }, 5000)\n          setPersons(Object.values(persons).filter(p => p.id !== event.target.value))\n      })\n    }\n    personService\n      .getAll()\n      .then(initialPersons => {\n        setPersons(initialPersons)\n      })\n  }\n\n  const Footer = () => {\n    const footerStyle = {\n      color: 'green',\n      fontStyle: 'italic',\n      fontSize: 16\n    }\n    return (\n      <div style={footerStyle}>\n        <br />\n        <em>Phonebook app, Department of Computer Science, University of Helsinki 2021</em>\n      </div>\n    )\n  }\n  \n\n\n  return (\n    <div>\n      <h1>Phonebook</h1>\n      <Notification message={errorMessage} />\n      <Search showFilter={showFilter} handleSearchChange={handleSearchChange}/>\n      \n      <h2>Add New</h2>\n      <Form addPerson={addPerson} \n      newName={newName} \n      handleNameChange={handleNameChange} \n      newNumber={newNumber} \n      handleNumberChange={handleNumberChange}/>\n      \n      <h2>Numbers</h2>\n      <RenderAll persons={persons} showFilter={showFilter} deletePerson={deletePerson}/>\n      <Footer />\n    </div>\n  )\n}\n\nexport default App","\nimport ReactDOM from 'react-dom'\nimport App from './App.js'\nimport './index.css'\n\nconst notes = [\n  {\n    id: 1,\n    content: 'HTML is easy',\n    date: '2019-05-30T17:30:31.098Z',\n    important: true\n  },\n  {\n    id: 2,\n    content: 'Browser can execute only JavaScript',\n    date: '2019-05-30T18:39:34.091Z',\n    important: false\n  },\n  {\n    id: 3,\n    content: 'GET and POST are the most important methods of HTTP protocol',\n    date: '2019-05-30T19:20:14.298Z',\n    important: true\n  }\n]\n\nReactDOM.render(\n  <App notes={notes} />,\n  document.getElementById('root')\n)"],"sourceRoot":""}